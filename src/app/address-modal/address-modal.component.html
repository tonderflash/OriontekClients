<h2 mat-dialog-title>{{ isViewMode ? 'Client Addresses' : 'Add Address' }}</h2>

<div *ngIf="isViewMode; else addAddressMode">
  <ul class="address-list">
    <li *ngFor="let address of data.addresses" class="address-item">
      <span class="address-label">Address:</span>
      <span class="address-text">{{ address.street }}, {{ address.city }}, {{ address.state }} {{ address.zip }}</span>
    </li>
  </ul>
  <div mat-dialog-actions align="end">
    <button mat-button mat-dialog-close>Close</button>
  </div>
</div>

<ng-template #addAddressMode>
  <form (ngSubmit)="onSubmit()" #addressForm="ngForm" class="form-container">
    <div class="form-field">
      <mat-form-field appearance="outline">
        <mat-label>Street</mat-label>
        <input matInput name="street" [(ngModel)]="address.street" required />
      </mat-form-field>
    </div>

    <div class="form-field">
      <mat-form-field appearance="outline">
        <mat-label>City</mat-label>
        <input matInput name="city" [(ngModel)]="address.city" required />
      </mat-form-field>
    </div>

    <div class="form-field">
      <mat-form-field appearance="outline">
        <mat-label>State</mat-label>
        <input matInput name="state" [(ngModel)]="address.state" required />
      </mat-form-field>
    </div>

    <div class="form-field">
      <mat-form-field appearance="outline">
        <mat-label>Zip Code</mat-label>
        <input matInput name="zip" [(ngModel)]="address.zip" required />
      </mat-form-field>
    </div>

    <div class="modal-actions">
      <button mat-button (click)="onCancel()">Cancel</button>
      <button mat-raised-button color="primary" [disabled]="!addressForm.valid">
        Save
      </button>
    </div>
  </form>
</ng-template>